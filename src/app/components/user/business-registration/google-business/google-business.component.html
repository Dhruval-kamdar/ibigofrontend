<header class="home-header-register">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 heading-logo">
                <a href="step-2.html"><img src="/assets/images/ibigo-light.png" alt="logo2"></a>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6 col-lg-offset-3 heading-form-main2">
                
                <div class="heading-form2">
                    <h3>Create a {{this.business_type}} business account</h3>
                    <p>Heb je al een account? <a class="first" routerLink="/user/login">Login</a></p>
                    <form [formGroup]="businessForm" (ngSubmit)="onSubmit()">
                        <div *ngIf="add_later==false">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="form-group" [ngClass]="{ 'has-error': submitted && f.business_place.errors }">
                                        
                                        <input (keyup)="onLocation($event)" type="text" formControlName="business_place" autocomplete="off" id="business_place" class="form-control" placeholder="Enter City">
                                        <div *ngIf="submitted && f.business_place.errors">
                                            <span class="help-block" *ngIf="f.business_place.errors.required">Business Place is required</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="form-group" [ngClass]="{ 'has-error': (submitted && f.business_name.errors)||(submitted && f.is_business.errors) }">
                                        
                                        <input (keyup)="onKey($event)" type="text" formControlName="business_name" autocomplete="off" id="business_name" class="form-control" placeholder="Enter Business Name">
                                        <div style="margin-bottom: 15px;max-height: 200px;overflow-y:scroll;border-bottom: 1px solid #ddd;" *ngIf="this.place_suggestions.length>0&&this.query!=''">
                                            <ul id="myUL">
                                                <li *ngFor="let place of place_suggestions"><a href="javascript:void(0)" (click)="selectPlace(place.id)">
                                                    <div style="display: flex;">
                                                        <div>
                                                            <img class="spot-img" *ngIf="place.categories.length" src="{{place.categories[0].icon.prefix+'64'}}{{place.categories[0].icon.suffix}}">
                                                            <img class="spot-img" *ngIf="!place.categories.length" src="https://ss3.4sqi.net/img/categories_v2/travel/highway_64.png">
                                                        </div>
                                                        <div>
                                                            <span class="spot-name">{{place.name}}</span>
                                                            <span class="spot-address">{{place.location.formattedAddress.join(', ')}}</span>
                                                        </div>
                                                    </div>
                                                     </a>
                                                </li>
                                                
                                            </ul>
                                        </div>
                                        <div *ngIf="submitted && f.business_name.errors">
                                            <span class="help-block" *ngIf="f.business_name.errors.required">Business is required</span>
                                        </div>
                                        <div *ngIf="submitted && f.is_business.errors">
                                            <span class="help-block" *ngIf="f.is_business.errors.required">Select your location</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div *ngIf="this.spot_name" class="spot-div" >
                                        <div style="display: flex;">
                                            <div>
                                                <img class="spot-img" src="{{spot_img}}">
                                            </div>
                                            <div>
                                                <span class="spot-name">{{spot_name}}</span>
                                                <span class="spot-address">{{spot_address}}</span>
                                            </div>
                                        </div>
                                    </div>
                                        <input type="hidden" formControlName="is_business" id="is_business">
                                        
                                </div>
                            </div>
                        </div>
                        <div *ngIf="add_later==true">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group" [ngClass]="{ 'has-error': submitted && f.manual_business.errors }">
                                    
                                    <input type="text" formControlName="manual_business" class="form-control" placeholder="Enter Business Name">
                                    <div *ngIf="submitted && f.manual_business.errors">
                                        <span class="help-block" *ngIf="f.manual_business.errors.required">Business is required</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group" [ngClass]="{ 'has-error': submitted && f.phone_number.errors }">
                                    
                                    <input type="text" formControlName="phone_number" class="form-control" placeholder="Enter Business Mobile">
                                    <div *ngIf="submitted && f.phone_number.errors">
                                        <span class="help-block" *ngIf="f.phone_number.errors.required">Business Mobile is required</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="form-group" [ngClass]="{ 'has-error': submitted && f.full_address.errors }">
                                    
                                    <textarea rows="3" formControlName="full_address"  class="form-control" placeholder="Enter Business Address"></textarea>
                                    <div *ngIf="submitted && f.full_address.errors">
                                        <span class="help-block" *ngIf="f.full_address.errors.required">Address is required</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                        <div class="col-lg-12 form-check-main">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" formControlName="add_later">
                                <label class="form-check-labe2" for="defaultCheck2">
                                    I will Add Business Details Manually
                                </label>
                            </div>
                        </div>
                        <div class="form-group" data-type="submit">
                            <button (click)="onSubmit()" type="submit" class="btn-default">registregen</button>
                        </div>
                    </form>
                    <div class="heading-form-new2">
                        <a class="second" href="#">Heb je geen account?</a> <a class="third" routerLink="/user/register"> Create a new free account</a>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 nog-text">
                <p>Nog 4 stappen, je bent er bijna</p>
            </div>
        </div>  
        <div class="row">
            <div class="col-lg-12 nog-border">
                <span class="first"></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </div>
</header>